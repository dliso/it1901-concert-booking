{% extends 'base.html' %}


{% block content %}

<h1>{{ festival.name }}</h1>

<a class="btn btn-primary"
   href="{% url 'admin:bands_festival_change' festival.id %}">
    Edit</a>

<a class="btn btn-danger"
   href="{% url 'admin:bands_festival_delete' festival.id %}">
    Delete</a>

<h3>Stage overview</h3>
{% for stage in festival.concerts_by_stage %}
<h4>{{ stage.stage }}</h4>
<ul class="list-unstyled">
    {% for concert in stage.concerts %}
    <li>
        <a href="{% url 'concert:detail' concert.id %}">
            {{ concert.concert_time|date:"d M Y H:i" }}
            {{ concert.name }}
        </a>
    </li>
    {% endfor %}
</ul>
{% endfor %}


<h3> Concerts sorted by Genre</h3>
    <table class="table">
    <tr>
        <th>Genre</th>
        <th>Concerts</th>
        <th>Stages</th>
        <th>Attendees</th>
    </tr>
    {% for genre in festival.concerts_by_genre %}
    <tr>
        <td>{{ genre.genre }}</td>
        {% for concert in genre.concerts %}
            <td>{{ concert }}</td>

                {% for scene in festival.concerts_by_genre %}
                    <td>{{ scene.scene }}</td>

                    {% for attendees in festival.concert_by_genre %}
                        <td>{{ attendees.attendees }}</td>
                    {% endfor %}


               {% endfor %}
        {% endfor %}
    </tr>
    {% endfor %}
</table>

<!-- <h2>Concerts</h2> -->
<!-- <hr/> -->
<!-- <ul> -->
<!-- {% for concert in festival.concerts.all %} -->
<!-- {{ concert.stage_name }} -->
<!-- {% empty %} -->
<!-- No concerts added to festival yet. -->
<!-- {% endfor %} -->
<!-- </ul> -->

{% endblock content %}
